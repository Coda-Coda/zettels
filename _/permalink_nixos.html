<!-- TODO: Main navigation links (Home, index, tags, ...) --><!-- DoNotFormat -->
<!-- DoNotFormat -->

<html lang='en'>

<head>
  <meta charset='UTF-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1' />
  <title>
    NixOS – Daniel's Public Zettelkasten
  </title>
  
    
      <meta property='og:description' content />
      <meta property='og:site_name' content="Daniel's Public Zettelkasten" />
      <meta property='og:type' content='website' />
      <meta property='og:title' content='NixOS' />
    
    
      <base href='/zettels/' />
      <link href='favicon.svg' rel='icon' />
    
    <script type='text/javascript' src='https://coda-coda.github.io/HConfig/1.js'></script>
<meta name='dc.relation.ispartof' content='Public-Zettelkasten-Daniel-Britten-(ORCID-0000-0002-7860-3595)' />
<meta name='dc.identifier' content='nixos' />
<script async src='https://hypothes.is/embed.js'></script>
  
  <link href='tailwind.css?instanceId=7e16d0c4-31f1-4dd6-9d04-52a712ba81b9' rel='stylesheet' type='text/css' />

  <!-- Heist error element -->
  <style type='text/css'>
    strong.error {
      color: lightcoral;
      font-size: 90%;
      font-family: monospace;
    }
  </style>
  <!-- What goes in this file will appear on near the end of <head>--><link rel='preload' href='_emanote-static/fonts/Maven_Pro/MavenPro-VariableFont_wght.ttf' as='font' type='font/ttf' crossorigin />

<style>
  @font-face {
    font-family: 'MavenPro';
    src: url('_emanote-static/fonts/Maven_Pro/MavenPro-VariableFont_wght.ttf') format("truetype");
    font-display: swap;
  }

  body {
    font-family: 'MavenPro', sans-serif;
    /* font-variation-settings: 'wght'300; */
  }

  a.mavenLinkBold {
    font-variation-settings: 'wght'500;
  }

  strong {
    font-variation-settings: 'wght'500;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  header,
  .header-font {
    font-family: 'MavenPro', sans-serif;
  }
</style>

  
    <link rel='stylesheet' href='_emanote-static/inverted-tree.css' />
  
</head>

<!-- DoNotFormat -->



<!-- DoNotFormat -->

<body class='bg-gray-400 overflow-y-scroll'>
  
    <div class='container mx-auto max-w-prose'>
      <div class='mt-2 md:mt-4'>
        <!-- DoNotFormat -->
<!-- DoNotFormat -->

<nav id='uptree' class='flipped tree' style='transform-origin: 50%;'>
  <ul class='root'>
    <li>
      
        <ul>
          
            <li>

  <div class='text-gray-900 forest-link'>
    <a href='_'>
      ~All~
    </a>
  </div>

  
    <ul>
      
        <li>

  <div class='text-gray-900 forest-link'>
    <a href=''>
      Welcome
    </a>
  </div>

  
</li>
      
    </ul>
  
</li>
          
        </ul>
      
    </li>
  </ul>
</nav>
        <div class='md:shadow-2xl md:mb-8'>
          <div class='flex-1 w-full overflow-x-auto bg-white'>
            <main class='px-4 py-4'>
              <h1 class='flex items-end justify-center mb-4 p-3 bg-blue-100 text-5xl font-extrabold text-black rounded'>
  <a class='z-40 tracking-tighter '>
    NixOS
  </a>
</h1>
              <article class='overflow-auto'>
  <!-- What goes in this file will appear on top of note body-->
  
    <p class='mb-3'>
      <span class='font-bold bg-gray-100 py-0.5 px-2 rounded-lg emanote:inline-tag:nix' title='Tag' data-tag='nix'><a href='-/tags/nix' title='Tag' class='text-blue-600 mavenLinkBold hover:underline'>#nix</a></span> <a href='https://nixos.org/' class='text-blue-600 hover:underline' target='_blank' rel='noopener'>NixOS</a>, the “Purely Functional Linux Distribution” is an opinionated Linux distribution. It is based around the <a href='tech/nix_and_nixos/nix' class='text-blue-600 mavenLinkBold hover:underline' data-wikilink-type='WikiLinkNormal'>Nix package manager</a> with similar advantages to using Nix, but applied to the whole system configuration rather than just installed packages.
    </p>
  
    <p class='mb-3'>
      NixOS can be used effectively on a personal laptop - the default installation with the GNOME desktop (like Ubuntu) works well. You can <a href='https://nixos.org/download.html#nixos-iso' class='text-blue-600 hover:underline' target='_blank' rel='noopener'>get NixOS here</a>.
    </p>
  
    <p class='mb-3'>
      Some things take a bit of getting your head around. One key idea is “channels”. First of all the <a href='https://github.com/NixOS/nixpkgs' class='text-blue-600 hover:underline' target='_blank' rel='noopener'>nixpkgs GitHub repo</a> is <em>really important</em>. This is where all the package definitions are defined and where you can go to <a href='https://github.com/NixOS/nixpkgs/issues/new/choose' class='text-blue-600 hover:underline' target='_blank' rel='noopener'>raise issues</a> such as requestion that a package definition gets updated. The community can be pretty good at making these updates, for example <a href='https://github.com/NixOS/nixpkgs/issues/119283' class='text-blue-600 hover:underline' target='_blank' rel='noopener'>here</a> I received great help really quickly.
    </p>
  
    <p class='mb-3'>
      <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>nixos-20.09</code> is the default channel with the default installation (as of today). It corresponds to the <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>nixos-20.09</code> branch on <a href='https://github.com/NixOS/nixpkgs/tree/nixos-20.09' class='text-blue-600 hover:underline' target='_blank' rel='noopener'>GitHub</a>.
    </p>
  
    <p class='mb-3'>
      <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>nixos-*</code> holds all the packages for Linux (including for the OS NixOS). <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>nixpkgs-*</code> holds all the packages for Linux <em>and</em> macOS (still also including all the ones for the OS NixOS).
    </p>
  
    <p class='mb-3'>
      <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>*-20.09</code> refers to the release in the <em>9</em>th month of 20<em>20</em>. It still receives some updates, including security-related ones.
    </p>
  
    <p class='mb-3'>
      A key difference between a branch on GitHub and a channel is that the channel has been processed via the build system and certain checks such as that key packages have been built have passed. Also the built results will be cached, so you’ve got a slightly higher chance of the package you’re building having been cached if you’re using a channel rather than the GitHub branch directly.
    </p>
  
    <p class='mb-3'>
      For the latest packages, <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>nixpkgs-unstable</code> is the way to go. You can always rollback.
    </p>
  
    <p class='mb-3'>
      Note that <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>nix-channel --list</code> will list the channels for an unprivileged user (e.g when using <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>nix-env</code> and <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>home-manager switch</code>) and <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>sudo nix-channel --list</code> will list the channels for a privileged user (e.g. when rebuilding the system using <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>nixos-rebuild switch</code>). Also if you remove a channel (<code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>--remove</code>) and add another one (<code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>--add</code>) you need to run <code class='py-0.5 px-1 rounded bg-gray-700 text-sm text-white'>(sudo) nix-channel --update</code> to initialise it.
    </p>
  <h2 id='what-does-this-all-mean-in-the-end' class='inline-block mt-6 mb-4 text-4xl font-bold text-gray-700 border-b-2'>What does this all mean in the end?</h2>
    <p class='mb-3'>
      You can keep your entire system configuration in (typically two) text files! Everything from the kernel packages to your web browser or globally installed python packages is in these text files. To uninstall something, simply delete it from your text file then rebuild.
    </p>
  
    <p class='mb-3'>
      This makes it really easy to freely experiment from trying different kernel packages all the way to installing new software. This is a really nice freedom. You never have to worry about polluting your system because you can simply delete what you installed via removing it from the text file and rebuilding.
    </p>
  
    <p class='mb-3'>
      Of course you can keep these text files in git repositories and have all the benefits of git version control too.
    </p>
  <div xmlhtmlRaw><script>
    window.location.replace("/zettels/tech/nix_and_nixos/nixos");
</script>
</div>
  <!-- What goes in this file will appear below the note body-->
</article>
              <div class='flex flex-col lg:flex-row lg:space-x-2'>
                
                
  <div class='flex-1 p-4 mt-8 bg-gray-100 rounded'>
    <header class='mb-2 text-xl font-semibold text-gray-500'>Links to this page</header>
    <ul class='space-y-1'>
      
        <li>
          <a class='text-blue-600 mavenLinkBold hover:bg-blue-50' href='_/permalink_windows_in_virtualbox_on_nixos'>
            Windows in VirtualBox on NixOS
          </a>
          
            <div class='mb-4 overflow-auto text-sm text-gray-500'>
  
    <div class='pl-2 mt-2 border-l-2 border-blue-200 hover:border-blue-500'>
      <div>Install <a href='_/permalink_nixos' class='text-gray-600 font-bold hover:bg-gray-50' data-wikilink-type='WikiLinkNormal'>NixOS</a> as usual, and install VirtualBox on NixOS.</div>
    </div>
  
</div>
          
        </li>
      
        <li>
          <a class='text-blue-600 mavenLinkBold hover:bg-blue-50' href='_/permalink_switching_from_macos_to_nixos_sweden_fp_meetup_talk_2022'>
            Switching from macOS to NixOS (Talk, Sweden Meetup)
          </a>
          
            <div class='mb-4 overflow-auto text-sm text-gray-500'>
  
    <div class='pl-2 mt-2 border-l-2 border-blue-200 hover:border-blue-500'>
      <div><p><a href='_/permalink_nixos' class='text-gray-600 font-bold hover:bg-gray-50' data-wikilink-type='WikiLinkNormal'>NixOS</a>, the “Purely Functional Linux Distribution”, is an interesting choice to switch to from macOS (or any OS). It has some unique advantages as well as some annoying quirks. I’ll discuss my experience of switching from a MacBook Pro to a Dell running NixOS for everyday usage as a Computer Science PhD student.</p></div>
    </div>
  
</div>
          
        </li>
      
        <li>
          <a class='text-blue-600 mavenLinkBold hover:bg-blue-50' href='_/permalink_switching_from_macos_to_nixos_fp_meetup_talk_2021'>
            Switching from macOS to NixOS (Talk, Auckland Meetup)
          </a>
          
            <div class='mb-4 overflow-auto text-sm text-gray-500'>
  
    <div class='pl-2 mt-2 border-l-2 border-blue-200 hover:border-blue-500'>
      <div><p><a href='_/permalink_nixos' class='text-gray-600 font-bold hover:bg-gray-50' data-wikilink-type='WikiLinkNormal'>NixOS</a>, the “Purely Functional Linux Distribution”, is an interesting choice to switch to from macOS (or any OS). It has some unique advantages as well as some annoying quirks. I’ll discuss my experience of switching from a MacBook Pro to a Dell running NixOS for everyday usage as a Computer Science PhD student.</p></div>
    </div>
  
</div>
          
        </li>
      
        <li>
          <a class='text-blue-600 mavenLinkBold hover:bg-blue-50' href='_/permalink_nix'>
            Nix (the purely functional package manager)
          </a>
          
            <div class='mb-4 overflow-auto text-sm text-gray-500'>
  
    <div class='pl-2 mt-2 border-l-2 border-blue-200 hover:border-blue-500'>
      <div><strong>Atomic upgrades and rollbacks</strong>: It is easy to roll-back to a previous version of software, or even of the whole system if using <a href='_/permalink_nixos' class='text-gray-600 font-bold hover:bg-gray-50' data-wikilink-type='WikiLinkNormal'>NixOS</a>.</div>
    </div>
  
</div>
          
        </li>
      
    </ul>
  </div>

              </div>
              
  <section class='flex flex-wrap items-end justify-center my-4 space-x-2 space-y-2 font-mono text-sm'>
    
      <a title='Tag' class='px-1 bg-gray-100 rounded hover:bg-gray-50 hover:text-blue-500' href='-/tags/nix'>
        <!-- DoNotFormat -->
        #nix
        <!-- DoNotFormat -->
      </a>
    
  </section>

              <!-- What goes in this file will at the very end of the main div -->
            </main>
          </div>
        </div>
        <footer class='flex items-center justify-center mt-2 mb-8 space-x-4 text-center text-gray-800'>
  
  <div>
    <a href='' title='Go to Home page'>
      <svg xmlns='http://www.w3.org/2000/svg' class='w-6 h-6 hover:text-blue-700' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6'></path>
      </svg>
    </a>
  </div>
  <div>
    <a href='-/all' title='View Index'>
      <svg class='w-6 h-6 hover:text-blue-700' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4'>
        </path>
      </svg>
    </a>
  </div>
  <div>
    <a href='https://emanote.srid.ca' target='_blank' title='Generated by Emanote 0.4.11.1'>
      <img class='w-6 h-6 hover:text-blue-700' src='_emanote-static/emanote-logo.svg' />
    </a>
  </div>
  <div>
    <a href='-/tags' title='View tags'>
      <svg class='w-6 h-6 hover:text-blue-700' fill='none' stroke='currentColor' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z'>
        </path>
      </svg>
    </a>
  </div>
  <div>
    <a href='-/tasks' title='View tasks'>
      <svg xmlns='http://www.w3.org/2000/svg' class='w-6 h-6 hover:text-blue-700' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
        <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z'></path>
      </svg>
    </a>
  </div>
</footer>
      </div>
    </div>
  
</body>

</html>